var userIp,currentCapital;const baseUrl="https://api.weatherapi.com/v1/forecast.json",apiKey="83923766e9194052b65122922241312";async function displayData(a){try{if(a.length>=3){let t=await fetch(`https://api.weatherapi.com/v1/forecast.json?key=83923766e9194052b65122922241312&q=${a}&days=3`),s=await t.json(),e=s.forecast,n=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday",];var i,c,d=new Date(e.forecastday[0].date),o=n[d.getDay()];"Saturday"===o?(i=n[0],c=n[1]):"Friday"===o?(i=n[d.getDay()+1],c=n[0]):(i=n[d.getDay()+1],c=n[d.getDay()+2]);var r=`
       <div class="col-lg-4 col-md-6 bg-dark col1">
                <div class="cart pb-4 px-4 pt-2 rounded-3">
                  <div
                    class="info-day d-flex bo align-items-center justify-content-between">
                    <span>${o}</span>
                    <span>${d.getDate()}${["January","February","March","April","May","June","July","August","September","October","November","December",][d.getMonth()]}</span>
                  </div>
                  <div class="location my-3">
                    <span class="display-5 fw-bolder">${s.location.name}</span>
                  </div>
                  <div class="degree">
                    <span class="fs-1 fw-bolder">${s.current.temp_c}<sup>o</sup>C</span>
                  </div>
                  <div class="icon1">
                    <img
                      src="https:${s.current.condition.icon}"
                      alt=""
                       />
                  </div>
                  <div class="state text-info my-2">${s.current.condition.text}</div>
                  <span class="me-3"
                    ><img
                      class="me-1"
                      src="images/icon-umberella.png"
                      alt="" />${s.current.humidity}%</span
                  >
                  <span class="me-3"
                    ><img
                      class="me-1"
                      src="images/icon-wind.png"
                      alt="" />${Math.round(s.current.wind_kph)}km/h</span
                  >
                  <span
                    ><img
                      class="me-1"
                      src="images/icon-compass.png"
                      alt="" />${s.current.wind_dir}</span
                  >
                </div>
              </div>
              <div class="col-lg-4 col-md-6 col2" style="background-color: black">
                <div class="cart pb-4 px-4 pt-2 rounded-3">
                  <div
                    class="info-day d-flex align-items-center justify-content-between">
                    <span>${i}</span>
                  </div>
                  <div class="icon my-4">
                    <img
                      src="https:${e.forecastday[1].day.condition.icon}"
                      alt=""
                      width="90" />
                    <div class="degree">
                      <span class="fs-1 fw-bolder">${e.forecastday[1].day.maxtemp_c}<sup>o</sup>C</span>
                    </div>
                    <div class="d-flex justify-content-center">
                      <span>${e.forecastday[1].day.mintemp_c}<sup>o</sup></span>
                    </div>
                    <div class="d-flex justify-content-center">
                      <span class="text-info">${e.forecastday[1].day.condition.text}</span>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-lg-4 col-md-6 col3 bg-dark">
                <div class="cart pb-4 px-4 pt-2 rounded-3">
                  <div
                    class="info-day d-flex align-items-center justify-content-between">
                    <span>${c}</span>
                  </div>
                  <div class="icon my-4">
                    <img
                      src="https:${e.forecastday[2].day.condition.icon}"
                      alt=""
                      width="90" />
                    <div class="degree">
                      <span class="fs-1 fw-bolder">${e.forecastday[1].day.maxtemp_c}<sup>o</sup>C</span>
                    </div>
                    <div class="d-flex justify-content-center">
                      <span>${e.forecastday[1].day.mintemp_c}<sup>o</sup></span>
                    </div>
                    <div class="d-flex justify-content-center">
                      <span class="text-info">${e.forecastday[2].day.condition.text}</span>
                    </div>
                  </div>
                </div>
              </div>
      `;document.querySelector(".row").innerHTML=r}}catch(p){}}async function getCurrentLocation(a){let t=await fetch(`https://apiip.net/api/check?ip=${a}
&accessKey=30dd9556-8884-42bb-8967-cdaeec921243`),s=await t.json();displayData(currentCapital=s.capital)}document.addEventListener("DOMContentLoaded",async function(){let a=await fetch("https://api.ipify.org?format=json"),t=await a.json();getCurrentLocation(userIp=t.ip)});let findCity=document.getElementById("find"),inptCity=document.getElementById("cityInpt");inptCity.addEventListener("input",function(){displayData(inptCity.value)}),findCity.addEventListener("click",function(){displayData(inptCity.value)});